---
title: "R-project-patent"
format: html
---

## quarto document

## Link to the Github Repository

https://github.com/brl-noe/R-project-patent.git

## Loading the library
```{r}
#| message: false
library(here)
library(vroom)
library(dplyr)
library(ggplot2)
library(tidyr)
theme_set(theme_bw())
```


## Loading the data

```{r}
here::i_am("R-project-patent.Rproj")
```

```{r}
## Loading patent data
patent <- vroom(here("patent.tsv"))

## Loading key indicator data
key_indicator <- vroom(here("key_indicator.tsv"))

## Loading education data
education <- vroom(here("education.tsv"))
```

## Basics informations about the dabases
```{r}
# Function to generate a data summary
get_data_summary <- function(df) {
  rows <- nrow(df)
  cols <- ncol(df)
  sample <- head(df)
  
  return(list(
    NumRows = rows,
    NumCols = cols,
    SampleData = sample
  ))
}

# Get summaries for each dataset
patent_summary <- get_data_summary(patent)
key_indicator_summary <- get_data_summary(key_indicator)
education_summary <- get_data_summary(education)

# Combine the summaries into a single data frame
data_summaries <- data.frame(
  Dataset = c("Patent", "Key Indicator", "Education"),
  NumRows = c(patent_summary$NumRows, key_indicator_summary$NumRows, education_summary$NumRows),
  NumCols = c(patent_summary$NumCols, key_indicator_summary$NumCols, education_summary$NumCols),
  SampleData = list(patent_summary$SampleData, key_indicator_summary$SampleData, education_summary$SampleData),
  stringsAsFactors = FALSE
)

# Print the summary data frame
print(data_summaries)

# Display the sample data for each dataset
for (i in 1:nrow(data_summaries)) {
  cat(paste0("Sample data for ", data_summaries$Dataset[i], ":\n"))
  print(data_summaries$SampleData[[i]])
  cat("\n")
}
```

## Description of the data joining, cleaning, etc.

```{r}
education <- education %>%
  separate(col = "freq,sex,age,unit,isced11,geo\\TIME_PERIOD", 
           into = c("freq", "sex", "age", "unit", "isced11", "geo"),
           sep = ",")

patent <- patent %>%
  separate(col = "freq,coop_ptn,unit,geo\\TIME_PERIOD", 
           into = c("freq", "coop_ptn", "unit", "geo"),
           sep = ",")

key_indicator <- key_indicator %>%
  separate(col = "freq,unit,na_item,sector,geo\\TIME_PERIOD", 
           into = c("freq", "unit", "na_item", "sector", "geo"),
           sep = ",")
```

We used `separate()`  that allows us to split a single column into multiple columns based on a separator.

```{r}
# Join the datasets
combined_data <- education %>% 
  left_join(key_indicator, by = "geo")

combined_data <- combined_data %>%
  left_join(patent, by = "geo")
```

The `left_join()` function from the `dplyr` package will perform a left join between the datasets, using the "geo" column as the common key. This will ensure that all rows from the education dataset are included, with the corresponding data from the other two datasets.


## Research Question

In early September, Mario Draghi revealed his plan to make the European Union more competitive. A key part of his plan is to invest billions in innovation. Patent applications serve as a proxy for innovation. A patent is an exclusive right granted for an invention, while a patent application refers to the legal and administrative process of requesting the issuance of a patent. This includes the content of the invention's description and claims, along with the procedural paperwork involved. Therefore, it seems relevant to explore what factors influence the phenomenon of patent applications across European Union countries. Our research question is: **What factors influence patent applications across European Union countries? A longitudinal analysis of education, innovation dynamics, and socioeconomic indicators.**

This study focuses on the role of education, innovation-related factors, and socioeconomic variables in explaining differences in patent activity across EU countries. We aim to determine whether higher educational attainment correlates with more patents and how economic factors, such as GDP, income inequality, and unemployment, influence this relationship.

Moreover, our study will employ a longitudinal analysis, allowing us to examine trends in patent applications and the evolution of the relationship between patent activity, education, and socioeconomic factors across European Union countries over time.We hypothesize that higher economic development is positively correlated with higher educational attainment and, in turn, with increased patent applications. In 2023, countries with the highest number of patent applications were also among the largest global economies (e.g., China ranked 1st, and the USA ranked 2nd), suggesting a link between economic strength and innovation output. This pattern implies that economic resources may facilitate investments in education and research, which are crucial drivers of technological advancement. Moreover, a World Bank article published in 2023 stated: *"Today, there is agreement that education, independent of innate ability, helps spur innovation and technology, and it contributes to productivity and economic growth."* This further supports the idea that education plays a critical role in fostering innovation, reinforcing the need to investigate whether a similar relationship exists within European Union countries.

Our findings could help European policymakers allocate resources more effectively, ensuring that the billions of euros invested in innovation contribute to the European Union's goal of remaining globally competitive. For instance, if we find that higher educational attainment correlates with higher patent applications, we would recommend that policymakers prioritize investments in education. This would potentially be more impactful and cost-effective than investing in other areas of the R&D process, such as infrastructure.



